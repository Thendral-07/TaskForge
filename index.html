<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Task Manager</title>
<style>
    body { font-family: Arial, sans-serif; background: #f5f5f5; margin: 0; padding: 0; }
    header { background: #4cafef; color: white; padding: 1rem; text-align: center; }
    .container { max-width: 900px; margin: auto; padding: 1rem; }
    h2 { border-bottom: 2px solid #ddd; padding-bottom: 0.3rem; }
    .section { background: white; padding: 1rem; margin-bottom: 1rem; border-radius: 5px; }
    .task-input, .filter-input { display: flex; gap: 0.5rem; margin-bottom: 1rem; flex-wrap: wrap; }
    input, select, button { padding: 0.5rem; }
    button { cursor: pointer; border: none; }
    .add-btn { background: #4caf50; color: white; }
    .task-list { list-style: none; padding: 0; }
    .task { display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; margin-bottom: 0.5rem; border-left: 5px solid gray; background: white; }
    .priority-low { border-color: green; }
    .priority-medium { border-color: orange; }
    .priority-high { border-color: red; }
    .overdue { background: #ffe5e5; }
    .quote { background: #e3f2fd; padding: 0.5rem; border-left: 5px solid #2196f3; font-style: italic; }
    .timer-display { font-size: 1.5rem; font-weight: bold; margin-top: 0.5rem; }
</style>
</head>
<body>

<header>
    <h1>Student Task Manager</h1>
</header>

<div class="container">

    <!-- Task Manager -->
    <div class="section">
        <h2>Tasks</h2>
        <div class="task-input">
            <input type="text" id="taskTitle" placeholder="Task title">
            <select id="taskCategory">
                <option value="study">Study</option>
                <option value="homework">Homework</option>
                <option value="revision">Revision</option>
                <option value="misc">Misc</option>
            </select>
            <select id="taskPriority">
                <option value="low">Low Priority</option>
                <option value="medium">Medium Priority</option>
                <option value="high">High Priority</option>
            </select>
            <input type="date" id="taskDeadline">
            <button class="add-btn" onclick="addTask()">Add</button>
        </div>

        <div class="filter-input">
            <label>Filter by Category:</label>
            <select id="filterCategory" onchange="filterTasks()">
                <option value="all">All</option>
                <option value="study">Study</option>
                <option value="homework">Homework</option>
                <option value="revision">Revision</option>
                <option value="misc">Misc</option>
            </select>
        </div>

        <ul id="taskList" class="task-list"></ul>
    </div>

    <!-- Pomodoro Timer -->
    <div class="section">
        <h2>Pomodoro Timer</h2>
        <div class="timer-display" id="pomodoroDisplay">25:00</div>
        <button onclick="startPomodoro()">Start</button>
        <button onclick="resetPomodoro()">Reset</button>
    </div>

    <!-- Exam Countdown -->
    <div class="section">
        <h2>Exam Countdown</h2>
        <input type="date" id="examDate">
        <button onclick="startCountdown()">Set Exam Date</button>
        <div class="timer-display" id="countdownDisplay">No exam date set.</div>
    </div>

    <!-- Motivational Quote -->
    <div class="section">
        <h2>Motivation</h2>
        <div class="quote" id="quote">Loading motivational quote...</div>
    </div>

</div>

<script>
    const quotes = [
        "Push yourself, because no one else is going to do it for you.",
        "Great things never come from comfort zones.",
        "Dream it. Wish it. Do it.",
        "The harder you work for something, the greater you’ll feel when you achieve it.",
        "Don’t watch the clock; do what it does. Keep going."
    ];

    function loadQuote() {
        document.getElementById('quote').textContent = quotes[Math.floor(Math.random() * quotes.length)];
    }

    function addTask() {
        const title = document.getElementById('taskTitle').value.trim();
        const category = document.getElementById('taskCategory').value;
        const priority = document.getElementById('taskPriority').value;
        const deadline = document.getElementById('taskDeadline').value;

        if (!title) { alert("Enter a task"); return; }

        const li = document.createElement('li');
        li.className = `task priority-${priority}`;
        li.setAttribute("data-category", category);

        const deadlineDate = deadline ? new Date(deadline) : null;
        const today = new Date();
        let deadlineText = deadline ? ` (Due: ${deadline})` : "";

        if (deadlineDate && deadlineDate < today) {
            li.classList.add("overdue");
            deadlineText += " ⚠️ Overdue";
        }

        li.innerHTML = `<span>${title} - ${category}${deadlineText}</span>
                        <button onclick="this.parentElement.remove()">❌</button>`;

        document.getElementById('taskList').appendChild(li);
        document.getElementById('taskTitle').value = "";
    }

    function filterTasks() {
        const filter = document.getElementById('filterCategory').value;
        document.querySelectorAll("#taskList .task").forEach(task => {
            task.style.display = (filter === "all" || task.dataset.category === filter) ? "flex" : "none";
        });
    }

    // Pomodoro Timer
    let pomodoroTime = 25 * 60;
    let pomodoroInterval;
    function startPomodoro() {
        clearInterval(pomodoroInterval);
        pomodoroInterval = setInterval(() => {
            pomodoroTime--;
            updatePomodoroDisplay();
            if (pomodoroTime <= 0) {
                clearInterval(pomodoroInterval);
                alert("Pomodoro complete! Take a 5 min break.");
                pomodoroTime = 5 * 60;
                updatePomodoroDisplay();
            }
        }, 1000);
    }
    function resetPomodoro() {
        clearInterval(pomodoroInterval);
        pomodoroTime = 25 * 60;
        updatePomodoroDisplay();
    }
    function updatePomodoroDisplay() {
        const min = String(Math.floor(pomodoroTime / 60)).padStart(2, '0');
        const sec = String(pomodoroTime % 60).padStart(2, '0');
        document.getElementById('pomodoroDisplay').textContent = `${min}:${sec}`;
    }

    // Exam Countdown
    function startCountdown() {
        const dateInput = document.getElementById('examDate').value;
        if (!dateInput) { alert("Select an exam date"); return; }
        const examDate = new Date(dateInput).getTime();
        setInterval(() => {
            const now = new Date().getTime();
            const diff = examDate - now;
            if (diff <= 0) {
                document.getElementById('countdownDisplay').textContent = "Exam Day!";
                return;
            }
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            document.getElementById('countdownDisplay').textContent = `${days}d ${hours}h ${minutes}m left`;
        }, 1000);
    }

    loadQuote();
</script>

</body>
</html>
